<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects Management - Staff Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617; /* bg-slate-950 */
        }
    </style>
</head>
<body class="text-slate-200">

    <div class="flex h-screen bg-slate-900">
        <!-- Sidebar -->
        <aside class="w-64 flex-shrink-0 bg-slate-900 border-r border-slate-800 flex flex-col">
            <!-- Logo -->
            <div class="h-16 flex items-center justify-center px-4 border-b border-slate-800">
                 <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-sky-500"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M3 9h18"></path><path d="M9 21V9"></path></svg>
                    <span class="text-xl font-bold text-slate-50">Staff Hub</span>
                </div>
            </div>
            <!-- Navigation -->
            <nav class="flex-1 px-4 py-4 space-y-2">
                <a href="/admin-dashboard.html" class="flex items-center px-3 py-2 text-slate-300 hover:bg-slate-800/50 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                    <span class="font-medium">Dashboard</span>
                </a>
                <a href="/admin-users.html" class="flex items-center px-3 py-2 text-slate-300 hover:bg-slate-800/50 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    <span class="font-medium">Users</span>
                </a>
                <a href="/admin-teams.html" class="flex items-center px-3 py-2 text-slate-300 hover:bg-slate-800/50 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    <span class="font-medium">Teams</span>
                </a>
                <a href="#" class="flex items-center px-3 py-2 text-white bg-slate-800/50 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                    <span class="font-medium">Projects</span>
                </a>
                <a href="#" class="flex items-center px-3 py-2 text-slate-300 hover:bg-slate-800/50 rounded-lg transition-colors">
                   <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                    <span class="font-medium">Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Area -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Header -->
            <header class="h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-6 flex-shrink-0">
                <h2 class="text-lg font-semibold text-white">Projects</h2>
                 <div class="relative">
                    <button id="user-menu-button" type="button" class="flex items-center space-x-2 p-2 rounded-full hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-sky-500 transition-colors">
                        <span class="hidden sm:inline text-sm font-medium text-slate-300">Admin User</span>
                        <svg class="hidden sm:inline h-4 w-4 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
                    </button>
                    <div id="user-menu" class="hidden absolute right-0 mt-2 w-48 origin-top-right bg-slate-800 border border-slate-700 rounded-md shadow-lg py-1 focus:outline-none">
                        <a href="#" class="block px-4 py-2 text-sm text-slate-300 hover:bg-slate-700">Profil Anda</a>
                        <a href="/login" class="block px-4 py-2 text-sm text-red-400 hover:bg-slate-700">Logout</a>
                    </div>
                </div>
            </header>
            
            <!-- Content -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-slate-950 p-6">
                <!-- View: Projects List -->
                <div id="project-list-view">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                             <h1 class="text-3xl font-bold text-white">Daftar Projects</h1>
                             <p class="mt-1 text-slate-400">Lihat semua proyek yang ada di sistem.</p>
                        </div>
                        <button id="show-add-form-btn" class="inline-flex items-center justify-center bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-sky-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950 focus:ring-sky-500 transition-all duration-300 text-sm">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                            Tambah Project
                        </button>
                    </div>

                    <div class="bg-slate-800/50 border border-slate-800 rounded-lg overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="text-xs text-slate-400 uppercase bg-slate-900/50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">Nama Project</th>
                                        <th scope="col" class="px-6 py-3">Deadline</th>
                                        <th scope="col" class="px-6 py-3">Tim</th>
                                        <th scope="col" class="px-6 py-3">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-800">
                                    <tr>
                                        <td class="px-6 py-4">
                                            <p class="font-medium text-white">Company Website Redesign</p>
                                            <p class="text-xs text-slate-400 mt-1">Complete redesign of the company website with modern UI/UX</p>
                                        </td>
                                        <td class="px-6 py-4">31/12/2024</td>
                                        <td class="px-6 py-4">
                                            <div class="flex flex-wrap gap-1">
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">Web Development Team</span>
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">Design Team</span>
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">QA Team</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <button onclick="handleEditClick(this)" class="font-medium text-sky-400 hover:text-sky-300">Detail</button>
                                        </td>
                                    </tr>
                                     <tr>
                                        <td class="px-6 py-4">
                                            <p class="font-medium text-white">Mobile Banking App</p>
                                            <p class="text-xs text-slate-400 mt-1">Development of a secure mobile banking application</p>
                                        </td>
                                        <td class="px-6 py-4">30/11/2024</td>
                                        <td class="px-6 py-4">
                                            <div class="flex flex-wrap gap-1">
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">Mobile Development Team</span>
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">Design Team</span>
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">QA Team</span>
                                                <span class="px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300">DevOps Team</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <button onclick="handleEditClick(this)" class="font-medium text-sky-400 hover:text-sky-300">Detail</button>
                                        </td>
                                    </tr>
                                    <!-- Add more projects here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- View: Add/Edit Project Form -->
                <div id="project-form-view" class="hidden">
                     <div class="flex justify-between items-center mb-6">
                        <div>
                             <h1 id="form-title" class="text-3xl font-bold text-white">Tambah Project Baru</h1>
                             <p id="form-subtitle" class="mt-1 text-slate-400">Isi detail proyek di bawah ini.</p>
                        </div>
                        <button id="back-to-list-btn" class="inline-flex items-center justify-center bg-slate-700 text-white font-semibold py-2 px-4 rounded-lg hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950 focus:ring-slate-500 transition-all duration-300 text-sm">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                           Kembali
                        </button>
                    </div>
                    <div class="bg-slate-800/50 border border-slate-800 rounded-lg p-6 space-y-6">
                        <div>
                            <label for="project-name" class="block text-sm font-medium text-slate-300 mb-2">Nama Project</label>
                            <input type="text" id="project-name" placeholder="Nama project" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500">
                        </div>
                        <div>
                            <label for="project-description" class="block text-sm font-medium text-slate-300 mb-2">Deskripsi</label>
                            <textarea id="project-description" rows="4" placeholder="Deskripsi project" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500"></textarea>
                        </div>
                        <div>
                            <label for="project-deadline" class="block text-sm font-medium text-slate-300 mb-2">Deadline</label>
                            <input type="date" id="project-deadline" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500">
                        </div>
                         <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Tim yang Menangani</label>
                            <div id="team-checkbox-list" class="space-y-2 p-4 bg-slate-900/50 border border-slate-700 rounded-md">
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="team" value="Web Development Team" class="h-4 w-4 rounded bg-slate-700 border-slate-600 text-sky-500 focus:ring-sky-500">
                                    <span class="text-sm">Web Development Team</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="team" value="Mobile Development Team" class="h-4 w-4 rounded bg-slate-700 border-slate-600 text-sky-500 focus:ring-sky-500">
                                    <span class="text-sm">Mobile Development Team</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="team" value="Design Team" class="h-4 w-4 rounded bg-slate-700 border-slate-600 text-sky-500 focus:ring-sky-500">
                                    <span class="text-sm">Design Team</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="team" value="QA Team" class="h-4 w-4 rounded bg-slate-700 border-slate-600 text-sky-500 focus:ring-sky-500">
                                    <span class="text-sm">QA Team</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="team" value="DevOps Team" class="h-4 w-4 rounded bg-slate-700 border-slate-600 text-sky-500 focus:ring-sky-500">
                                    <span class="text-sm">DevOps Team</span>
                                </label>
                            </div>
                        </div>
                        <div class="flex justify-end pt-4">
                            <button id="form-submit-btn" class="inline-flex items-center justify-center bg-sky-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-sky-500 transition-all">
                                Simpan Project
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DUMMY DATA ---
            const dummyProjects = {
                "Company Website Redesign": {
                    description: "Complete redesign of the company website with modern UI/UX",
                    deadline: "2024-12-31",
                    teams: ["Web Development Team", "Design Team", "QA Team"]
                },
                "Mobile Banking App": {
                    description: "Development of a secure mobile banking application",
                    deadline: "2024-11-30",
                    teams: ["Mobile Development Team", "Design Team", "QA Team", "DevOps Team"]
                }
            };

            // --- ELEMENTS ---
            const userMenuButton = document.getElementById('user-menu-button');
            const userMenu = document.getElementById('user-menu');
            const listView = document.getElementById('project-list-view');
            const formView = document.getElementById('project-form-view');
            const showFormBtn = document.getElementById('show-add-form-btn');
            const backToListBtn = document.getElementById('back-to-list-btn');
            
            const formTitle = document.getElementById('form-title');
            const formSubtitle = document.getElementById('form-subtitle');
            const formSubmitBtn = document.getElementById('form-submit-btn');
            
            const projectNameInput = document.getElementById('project-name');
            const projectDescInput = document.getElementById('project-description');
            const projectDeadlineInput = document.getElementById('project-deadline');
            const teamCheckboxes = document.querySelectorAll('#team-checkbox-list input[type="checkbox"]');

            // --- FUNCTIONS ---
            function showView(viewToShow) {
                listView.classList.add('hidden');
                formView.classList.add('hidden');
                viewToShow.classList.remove('hidden');
            }

            function setupFormForAdd() {
                formTitle.textContent = 'Tambah Project Baru';
                formSubtitle.textContent = 'Isi detail proyek di bawah ini.';
                formSubmitBtn.textContent = 'Simpan Project';
                
                // Clear form fields
                projectNameInput.value = '';
                projectDescInput.value = '';
                projectDeadlineInput.value = '';
                teamCheckboxes.forEach(cb => cb.checked = false);
                
                showView(formView);
            }
            
            window.handleEditClick = function(buttonElement) {
                const row = buttonElement.closest('tr');
                const projectName = row.querySelector('p.font-medium').textContent;
                const projectData = dummyProjects[projectName];

                if (!projectData) return;

                // Setup form for editing
                formTitle.textContent = 'Edit Project';
                formSubtitle.textContent = 'Ubah detail proyek di bawah ini.';
                formSubmitBtn.textContent = 'Simpan Perubahan';

                // Populate form fields
                projectNameInput.value = projectName;
                projectDescInput.value = projectData.description;
                projectDeadlineInput.value = projectData.deadline;
                
                teamCheckboxes.forEach(cb => {
                    cb.checked = projectData.teams.includes(cb.value);
                });

                showView(formView);
            }

            // --- EVENT LISTENERS ---
            if (userMenuButton && userMenu) {
                userMenuButton.addEventListener('click', (event) => {
                    event.stopPropagation();
                    userMenu.classList.toggle('hidden');
                });
                document.addEventListener('click', (event) => {
                    if (!userMenu.classList.contains('hidden') && !userMenu.contains(event.target) && !userMenuButton.contains(event.target)) {
                        userMenu.classList.add('hidden');
                    }
                });
            }

            showFormBtn.addEventListener('click', setupFormForAdd);
            backToListBtn.addEventListener('click', () => showView(listView));
        });
    </script>
</body>
</html>

